"use strict";!function(){const e=Array.prototype.slice.call(document.querySelectorAll(".js-card")),t=document.querySelectorAll(".js-card-btn");function s(){let t=0;e.forEach((e=>{e.style.height="auto";const s=e.offsetHeight;s>t&&(t=s)})),e.forEach((e=>{e.style.height=`${t}px`}))}function a(){const e=this.parentNode.querySelector(".js-card-caption"),t=this.parentNode.querySelector(".js-card-descr"),s=this.querySelector("[aria-pressed]"),a="true"===s.getAttribute("aria-pressed");this.classList.contains("card--abandoned")?(this.classList.remove("card--abandoned"),e.classList.remove("is-hidden"),t.classList.add("is-visually-hidden")):this.classList.contains("card--disabled")||(this.classList.toggle("card--selected"),s.setAttribute("aria-pressed",String(!a)),e.classList.toggle("is-hidden"),t.classList.toggle("is-visually-hidden"))}function n(){const e=this.parentNode,t=e.parentNode.querySelector(".js-card"),s=e.parentNode.querySelector(".js-card-descr"),a=t.querySelector("[aria-pressed]");t.classList.contains("card--disabled")||(t.classList.remove("card--abandoned"),t.classList.add("card--selected"),a.setAttribute("aria-pressed",!0),e.classList.add("is-hidden"),s.classList.remove("is-visually-hidden"))}function c(){this.classList.contains("card--selected")&&(this.classList.remove("card--selected"),this.classList.add("card--abandoned"))}function i(){this.classList.contains("card--abandoned")&&(this.classList.remove("card--abandoned"),this.classList.add("card--selected"))}!function(e,t){let s=0;e.forEach((function(a){a.complete&&a.naturalWidth>0?s++:a.addEventListener("load",(function(){s++,s===e.length&&t()})),s===e.length&&t()}))}(Array.prototype.slice.call(document.querySelectorAll(".js-card-img")),s),window.addEventListener("resize",s),function(){for(let s=0;s<e.length;s++){const d=e[s],r=d.parentNode.querySelector(".js-card-caption"),o=d.querySelector(".js-card-ingredient").textContent;d.classList.contains("card--disabled")&&(r.textContent=`Печалька, ${o} закончился.`,r.classList.add("text-small--warning")),d.addEventListener("click",a),d.addEventListener("mouseleave",c),d.addEventListener("mouseenter",i),t[s].addEventListener("click",n)}}()}(),function(){const e=document.querySelector("html"),t=document.querySelector(".js-menu-button"),s=document.querySelector(".js-main-nav");t.addEventListener("click",(t=>{t.target.classList.toggle("menu-button_opened"),s.classList.toggle("main-nav_opened"),e.classList.toggle("document_prevented-from-scrolling")}));document.querySelectorAll(".js-main-nav-link").forEach((a=>a.addEventListener("click",(()=>{t.classList.remove("menu-button_opened"),s.classList.remove("main-nav_opened"),e.classList.remove("document_prevented-from-scrolling")}))))}();